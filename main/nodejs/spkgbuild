# description	: JavaScript runtime built on Chrome's V8 JavaScript engine
# depends	: c-ares icu python3 libuv zlib

name=nodejs
version=20.0.0
release=2
source="https://nodejs.org/dist/v$version/node-v$version.tar.xz
	nodejs-fix-incomplete-type.patch"

build() {
	cd node-v$version

	patch -Np1 -i $SRC/nodejs-fix-incomplete-type.patch  

	./configure \
		--prefix=/usr \
		--shared-cares \
		--shared-zlib \
		--shared-libuv \
		--with-intl=system-icu
	make
	make DESTDIR=$PKG install

}
